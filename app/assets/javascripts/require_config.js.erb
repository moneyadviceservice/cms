//= require jquery
//= require jquery_ujs

<% def requirejs_path(asset) ; javascript_path(asset).sub(/.js\z/, ''); end %>

requirejs.config({
  baseUrl: '../',
  waitSeconds: 10,
  paths: {
    // Editor core
    'constants': '<%= requirejs_path("mas-cms-editor/src/app/constants/constants") %>',
    'config': '<%= requirejs_path("mas-cms-editor/src/app/config/config") %>',
    'mas-editor': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/mas-editor") %>',
    'editor': '<%= requirejs_path("mas-cms-editor/src/app/app") %>',

    // Editor modules
    'editor-lib-wrapper': '<%= requirejs_path("mas-cms-editor/src/app/modules/editor-lib-wrapper/editor-lib-wrapper") %>',
    'source-converter': '<%= requirejs_path("mas-cms-editor/src/app/modules/source-converter/source-converter") %>',

     // Editor Shims
    'mutationobserver-shim': '<%= requirejs_path("mas-cms-editor/src/app/shims/mutationobserver.min") %>',

    // Application modules
    'URLToggler': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/URLToggler") %>',
    'MASEditor': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/MASEditor") %>',
    'ElementHider': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/ElementHider") %>',
    'FileInputSubmit': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/FileInputSubmit") %>',
    'AutoComplete': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/AutoComplete") %>',
    'Slugifier': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/Slugifier") %>',
    'MirrorInputValue': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/MirrorInputValue") %>',
    'Tags': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/Tags") %>',
    'Popover': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/Popover") %>',
    'SelectSubmitter': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/SelectSubmitter") %>',
    'Dialog': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/Dialog") %>',
    'ElementFilter': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/ElementFilter") %>',
    'LinkManager': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/LinkManager") %>',
    'StickyElements': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/StickyElements") %>',
    'InsertManager': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/InsertManager") %>',
    'ImageManager': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/ImageManager") %>',
    'TagManager': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/TagManager") %>',
    'Scheduler': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/Scheduler") %>',
    'CharacterCounter': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/CharacterCounter") %>',
    'SnippetInserter': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/SnippetInserter") %>',
    'ListSorter': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/ListSorter") %>',
    'WordCount': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/WordCount") %>',
    'URLFormatter': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/URLFormatter") %>',
    'SearchBar': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/SearchBar") %>',
    'UnsavedChangesPrompt': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/UnsavedChangesPrompt") %>',
    'FieldDisabledStateToggler': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/FieldDisabledStateToggler") %>',
    'EmbeddedGoogleAnalytics': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/EmbeddedGoogleAnalytics") %>',
    'CategoryExpand': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/CategoryExpand") %>',
    'FormImage': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/FormImage") %>',
    'PageFormType': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/PageFormType") %>',

    // Utils
    'filter-event': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/utils/filterEvent") %>',

    // Scribe plugins
    'scribe-plugin-linkeditor': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/scribe/scribe-plugin-linkeditor") %>',
    'scribe-plugin-mastalk': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/scribe/scribe-plugin-mastalk") %>',
    'scribe-plugin-image-inserter': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/scribe/scribe-plugin-image-inserter") %>',

    // Snippets
    'snippets-model': '<%= requirejs_path("comfortable_mexican_sofa/admin/modules/mastalk/snippets-model") %>',

    // Dough base modules
    'componentLoader': "<%= requirejs_path('dough/assets/js/lib/componentLoader') %>",
    'DoughBaseComponent': "<%= requirejs_path('dough/assets/js/components/DoughBaseComponent') %>",
    'featureDetect': "<%= requirejs_path('dough/assets/js/lib/featureDetect') %>",
    'utilities': "<%= requirejs_path('dough/assets/js/lib/utilities') %>",

    // Dough components
    'Collapsable': "<%= requirejs_path('dough/assets/js/components/Collapsable') %>",
    'TabSelector': "<%= requirejs_path('dough/assets/js/components/TabSelector') %>",
    'mediaQueries': "<%= requirejs_path('dough/assets/js/lib/mediaQueries') %>",

    // Third-party dependencies
    'async': '<%= requirejs_path("requirejs-plugins/src/async") %>',
    'jquery': '<%= requirejs_path("jquery/dist/jquery.min") %>',
    'rsvp': "<%= requirejs_path('rsvp/rsvp') %>",
    'jqueryThrottleDebounce': "<%= requirejs_path('jqueryThrottleDebounce/jquery.ba-throttle-debounce') %>",
    'modernizr': "<%= requirejs_path('modernizr/modernizr') %>",
    'eventsWithPromises': "<%= requirejs_path('eventsWithPromises/src/eventsWithPromises') %>",
    'scribe': '<%= requirejs_path("scribe/scribe") %>',
    'scribe-plugin-blockquote-command': '<%= requirejs_path("scribe-plugin-blockquote-command/scribe-plugin-blockquote-command") %>',
    'scribe-plugin-formatter-plain-text-convert-new-lines-to-html': '<%= requirejs_path("scribe-plugin-formatter-plain-text-convert-new-lines-to-html/scribe-plugin-formatter-plain-text-convert-new-lines-to-html") %>',
    'scribe-plugin-heading-command': '<%= requirejs_path("scribe-plugin-heading-command/scribe-plugin-heading-command") %>',
    'scribe-plugin-keyboard-shortcuts': '<%= requirejs_path("scribe-plugin-keyboard-shortcuts/scribe-plugin-keyboard-shortcuts") %>',
    'scribe-plugin-link-prompt-command': '<%= requirejs_path("scribe-plugin-link-prompt-command/scribe-plugin-link-prompt-command") %>',
    'scribe-plugin-sanitizer': '<%= requirejs_path("scribe-plugin-sanitizer/scribe-plugin-sanitizer") %>',
    'scribe-plugin-toolbar': '<%= requirejs_path("scribe-plugin-toolbar/scribe-plugin-toolbar") %>',
    'text': '<%= requirejs_path("text/text") %>',
    'dialog-polyfill': '<%= requirejs_path("dialog-polyfill/dialog-polyfill") %>',
    'marked': '<%= requirejs_path("marked/lib/marked") %>',
    'to-markdown' : '<%= requirejs_path("to-markdown/dist/to-markdown") %>',
    'chosen': '<%= requirejs_path("chosen-build/chosen.jquery") %>',
    'taggle': '<%= requirejs_path("taggle.js/dist/taggle.min") %>',
    'rangy-core': '<%= requirejs_path("rangy-official/rangy-core") %>',
	'rangy-selectionsaverestore': '<%= requirejs_path("rangy-official/rangy-selectionsaverestore") %>',
    'filament-sticky': '<%= requirejs_path("filament-sticky/fixedsticky") %>',
    'filament-fixed': '<%= requirejs_path("filament-fixed/fixedfixed") %>',
    'html-sortable': '<%= requirejs_path("html.sortable/dist/html.sortable") %>',
    'autosize': '<%= requirejs_path("autosize/src/autosize") %>'
  },
  shim: {
    'chosen': {
      exports: 'Chosen',
      deps: ['jquery']
    },
    'taggle': {
      exports: 'Taggle'
    },
    'dialog-polyfill': {
      exports: 'dialogPolyfill'
    },
    'filament-sticky': {
      deps: ['jquery','filament-fixed']
    }
  }
});
